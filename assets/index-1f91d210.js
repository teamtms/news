import{j as e,s as u,C as _,a as i,r as m,_ as h,I as n,B as d,b}from"./index-565c6b92.js";const p=o=>e.jsx("strong",{className:u.body1strong,children:o.children}),x=({className:o,title:a,children:c,...t})=>e.jsx(_,{children:e.jsxs("details",{...t,children:[e.jsx("summary",{className:i.title,children:e.jsx(p,{children:a})}),e.jsx("div",{className:i.body,children:c})]})}),j="_form_1bt59_2",w="_webhookSelect_1bt59_15",f="_webhookLabel_1bt59_27",k="_title_1bt59_33",y="_webhooks_1bt59_37",S="_spoilerTitle_1bt59_44",g="_spoilerTitleInner_1bt59_51",v="_spoilerContent_1bt59_66",N="_forms_1bt59_73",l={form:j,webhookSelect:w,webhookLabel:f,title:k,webhooks:y,spoilerTitle:S,spoilerTitleInner:g,spoilerContent:v,forms:N},q=m.lazy(()=>h(()=>import("./index-5c34e46f.js"),["assets/index-5c34e46f.js","assets/index-565c6b92.js","assets/index-0ff38741.css","assets/index-93a31db8.css"])),I=m.lazy(()=>h(()=>import("./index-f1dabb0a.js"),["assets/index-f1dabb0a.js","assets/index-565c6b92.js","assets/index-0ff38741.css","assets/index-85abbd52.js"])),T={};location.search.split("?")[1]&&location.search.split("?")[1].split("&").forEach(o=>{T[o.split("=")[0]]=o.split("=")[1]});const E=()=>{const o=()=>Object.keys(localStorage).filter(t=>t.startsWith("wh-")),a=()=>{const t=document.querySelectorAll('[name="webhook"]');for(let s=0;s<t.length;s++){const r=t[s];if(r.checked)return r.id}return alert("Вебхук не выбран. Выберите существующий вебхук или создайте новый"),!1},c=(t,s)=>{const r=a();r&&b.post(r,{username:t||"undefined",content:s})};return e.jsxs("div",{className:"container",children:[e.jsx(q,{className:l.title,children:"Ваши вебхуки"}),e.jsx("div",{className:l.webhooks,children:o().map((t,s)=>e.jsx(I,{id:localStorage.getItem(t),label:t.split("wh-")[1]},s))}),e.jsxs("div",{className:l.forms,children:[e.jsx(x,{title:"Новый вебхук",children:e.jsxs("form",{className:l.spoilerContent,onSubmit:t=>{t.preventDefault();const s=document.querySelector("#new-name").value,r=document.querySelector("#new-url").value;localStorage.setItem(`wh-${s}`,r),location.reload()},children:[e.jsx(n,{required:!0,placeholder:"Название (без пробелов!)",id:"new-name"}),e.jsx(n,{required:!0,placeholder:"Ссылка",id:"new-url"}),e.jsx(d,{type:"submit",children:"Добавить"})]})}),e.jsxs("form",{className:l.form,onSubmit:t=>{t.preventDefault(),c(document.querySelector("#name").value,document.querySelector("#message").value)},children:[e.jsx(n,{placeholder:"Имя",id:"name"}),e.jsx(n,{required:!0,placeholder:"Сообщение",id:"message"}),e.jsx(d,{type:"submit",children:"Отправить"})]})]})]})};export{E as default};
