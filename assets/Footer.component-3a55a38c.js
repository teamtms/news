import{r as m,S as j,j as e,P as f,B as n,f as o,w as _}from"./index-b4839567.js";import{I as c}from"./index-c1ad9253.js";import{B as t}from"./index-d4cac0e1.js";import{u as N}from"./useQuery-b2d8eefc.js";const g="_footer_1b6wd_1",k="_container_1b6wd_5",v="_column_1b6wd_21",b="_menu_1b6wd_27",w="_menuItem_1b6wd_42",I="_ip_1b6wd_46",B="_profileBlock_1b6wd_62",C="_profileCard_1b6wd_68",L="_avatar_1b6wd_76",S="_menuTitle_1b6wd_82",s={footer:g,container:k,column:v,menu:b,menuItem:w,ip:I,profileBlock:B,profileCard:C,avatar:L,menuTitle:S},T="_logo_72fcg_1",y="_icon_72fcg_12",a={logo:T,icon:y},F=()=>{const i=m.useContext(j);return e.jsx("div",{className:a.logo,children:e.jsxs("a",{href:"#",className:a.link,children:[e.jsx("img",{src:i.icon,alt:"",className:a.icon}),e.jsxs("div",{className:a.text,children:[e.jsx("h2",{className:a.bigLabel,children:i.title}),e.jsx("span",{className:a.description,children:i.description})]})]})})},O=()=>{const{isLoading:i,isError:d,isSuccess:u,data:x,error:h}=N(["pages"],()=>_.getPages()),l=m.useContext(f);return d?(console.log(h),e.jsx(e.Fragment,{children:"Ошибка. См. подробности в консоли"})):i?e.jsx(e.Fragment,{children:"Подождите..."}):u?e.jsx("footer",{className:s.footer,children:e.jsxs("div",{className:`container ${s.container}`,children:[e.jsx("div",{className:s.column,children:e.jsx(F,{})}),e.jsxs("div",{className:s.column,children:[e.jsx(t,{className:s.menuTitle,children:"Меню"}),e.jsxs("ul",{className:s.menu,children:[e.jsx("li",{className:s.menuItem,children:e.jsx(n,{appearance:"link",as:"a",href:"#/send",className:s.menuLink,children:"Вебхуки"})}),e.jsx("li",{className:s.menuItem,children:e.jsx(n,{appearance:"link",as:"a",href:"#/profile",className:s.menuLink,children:"Мой профиль"})}),x.data.map((r,p)=>e.jsx("li",{className:s.menuItem,children:e.jsx(n,{appearance:"link",as:"a",href:`#/p/${r.id}`,className:s.menuLink,children:r.title.rendered})},p))]})]}),l.status==="admin"?e.jsxs("div",{className:s.column,children:[e.jsx(t,{className:s.menuTitle,children:"Админ-меню"}),e.jsxs("ul",{className:s.menu,children:[e.jsx("li",{className:s.menuItem,children:e.jsx(n,{appearance:"link",as:"a",href:"#/lsedit",className:s.menuLink,children:"Редактор компонентов"})}),e.jsx("li",{className:s.menuItem,children:e.jsx(n,{appearance:"link",as:"a",href:"#/create-profile",className:s.menuLink,children:"Создание пользователей"})})]})]}):"",e.jsx("div",{className:s.column,children:o.isLoggedIn()?e.jsx("a",{href:"#/profile",children:e.jsxs("div",{className:s.profileCard,children:[e.jsxs("div",{className:s.profileBlock,children:[e.jsx(c,{icon:"person"})," Привет, ",l.username]}),e.jsxs("div",{className:s.profileBlock,children:[e.jsx(c,{icon:"monetization_on"})," Баланс: ",l.balance]}),e.jsxs("div",{className:s.profileBlock,children:[e.jsx(c,{icon:"logout"}),e.jsx(n,{appearance:"link",onClick:()=>o.logOut(),children:"Выйти из аккаунта"})]})]})}):e.jsx(n,{as:"a",href:"/#/login",children:"Войти"})})]})}):e.jsx(e.Fragment,{children:"Неизвестная ошибка"})};export{O as default};
