import{o as d,q as m,v as u,r,_,P as h,j as e,C as x,B as l,I as i,f}from"./index-b4839567.js";import{I as n}from"./index-c1ad9253.js";import{B as j}from"./index-d4cac0e1.js";import{d as v}from"./Discord.service-0f837c3e.js";const B="_card_z6qnh_1",k="_columns_z6qnh_5",N="_username_z6qnh_16",q="_userProfile_z6qnh_22",z="_profileBlock_z6qnh_26",P="_info_z6qnh_35",b="_boldTitle_z6qnh_39",g="_avatar_z6qnh_45",C="_profile_z6qnh_26",w="_adminButton_z6qnh_57",a={card:B,columns:k,username:N,userProfile:q,profileBlock:z,info:P,boldTitle:b,avatar:g,profile:C,adminButton:w},c=(s,o,t)=>{console.log(s),d(m(u,"users",s),{[o]:t},{merge:!0})},y=r.lazy(()=>_(()=>import("./index-dc56b6fd.js"),["assets/index-dc56b6fd.js","assets/index-b4839567.js","assets/index-13c44c3e.css","assets/index-93a31db8.css"])),O=s=>{const o=r.useContext(h);return e.jsxs(x,{className:`${a.card}`,children:[e.jsx(y,{className:a.userProfile,children:s.isOwner?"Профиль":s.username}),e.jsxs("div",{className:a.columns,children:[e.jsxs("div",{className:a.info,children:[e.jsx("img",{className:a.avatar,src:s.avatar,alt:s.username}),e.jsx(j,{className:a.username,children:s.username}),e.jsxs("div",{className:a.profileBlock,title:"Фракция",children:[e.jsx(n,{icon:"barefoot"})," ",e.jsx("span",{children:s.fraction})]}),e.jsxs("div",{className:a.profileBlock,title:"Роль",children:[e.jsx(n,{icon:"shield_person"})," ",e.jsx("span",{children:s.role})]}),e.jsxs("div",{className:a.profileBlock,title:"Возможности на сайте",children:[e.jsx(n,{icon:"web"})," ",e.jsx("span",{children:s.status==="admin"?"Админ":"Пользователь"})]}),o.status==="admin"?e.jsx(l,{className:a.adminButton,onClick:()=>v.sendSystemMessage("Аккаунты",`Имя: ${s.username}
Фракция: ${s.fraction}
Роль: ${s.role}
Баланс: ${s.balance}₸`),children:"Вывести данные"}):""]}),s.isOwner?e.jsxs("div",{className:a.profile,children:[e.jsxs("div",{className:a.profileBlock,children:[e.jsx(i,{id:"new-username",placeholder:s.username})," ",e.jsx(l,{onClick:()=>c(s.email,"username",document.querySelector("#new-username").value),children:"Сохранить"})]}),e.jsxs("div",{className:a.profileBlock,children:[e.jsx(i,{id:"new-avatar",placeholder:"Аватарка (ссылка)"})," ",e.jsx(l,{onClick:()=>c(s.email,"avatar",document.querySelector("#new-avatar").value),children:"Изменить"})]}),e.jsxs("div",{className:a.profileBlock,children:[e.jsx(n,{icon:"monetization_on"})," ",e.jsxs("span",{children:["Баланс: ",s.balance]})]}),e.jsxs(l,{appearance:"link",className:a.profileBlock,onClick:f.logOut,children:[e.jsx(n,{icon:"logout"})," ",e.jsx("span",{children:"Выйти"})]})]}):""]})]})};export{O as default};
